"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const path_1 = __importDefault(require("path"));
const adapter_js_1 = __importDefault(require("./adapter.js"));
class CSharpAdapter extends adapter_js_1.default {
    formatTest(t) {
        const title = t.title.replace(/\(.*?\)/, '').trim();
        const example = t.title.match(/\((.*?)\)/);
        if (example)
            t.example = { ...example[1].split(',') };
        const suite = t.suite_title.split('.');
        t.suite_title = suite.pop();
        t.file = namespaceToFileName(t.file);
        t.title = title.trim();
        return t;
    }
    getFilePath(t) {
        const fileName = namespaceToFileName(t.file);
        return fileName;
    }
}
module.exports = CSharpAdapter;
function namespaceToFileName(fileName) {
    const fileParts = fileName.split('.');
    fileParts[fileParts.length - 1] = fileParts[fileParts.length - 1]?.replace(/\$.*/, '');
    return `${fileParts.join(path_1.default.sep)}.cs`;
}
